---
title: "Reproducible Vignette: `viridis` package"
author: "Samriddhi Khare, University of Pennsylvania"
date: "`r Sys.Date()`"
output: 
  html_document:
    theme: flatly 
    toc: true
    toc_float: true
    code_download: true
    code_folding: hide
---

```{r setup, include=FALSE}

  knitr::opts_chunk$set(
    echo = TRUE,
    warning = FALSE,
    message = FALSE,
    out.width = '100%',
    fig.retina =3
  )

```

```{r organize directories, include=FALSE}

dir.create("output")
dir.create("images")

```

## Introduction

The `viridis` color package is a popular color palette in data visualization known for its perceptually uniform and visually appealing color schemes. It was developed to address the limitations of traditional color palettes and is suitable for various plot types. `viridis` offers a range of color options, each designed to provide consistent and readable color representations in data visualizations.

I chose this package for my vignette as I have made extensive use of this package to achieve a visually consistent theme across many of my markdowns. The variety of options within this package and its compatability with `ggplot` makes it a valuable tool for data visualizations. 

```{r packages}

library(tidycensus)
library(dplyr)
library(tidyverse)
library(tidyr)
library(ggplot2)
library(viridis)
library(gridExtra)

```

## Options in `viridis`

The viridis palette has become synonymous with the standard blue-yellow color palette, but the package itself contains numerous options for visualization. 


### Palettes

The option argument within scale_fill_viridis() or scale_color_viridis() allows you to choose different variations of the Viridis color palette. The available options are:

<img src="D:/Fall_2023/MUSA_comms/Reproducible_Vignette/images/download.png" width="300" align="right" style="display: inline; margin: 0 10px;"/>




1. "m" : Magma
2. "i": Inferno
3. "p": Plasma
4. "v": Viridis
5. "D": Diverging (a diverging version of Viridis with two distinct colors)

```{r}
# Generate random data

set.seed(1)
data <- data.frame(
  x = rnorm(50),  
  y = rnorm(50),  
  z = rnorm(50)   
)

plot1 <- ggplot(data, aes(x = x, y = y, fill = z)) +
  geom_point(shape = 21, size = 4, color = "transparent") +
  scale_fill_viridis() +  # Use default color palette
  theme_minimal()

plot2 <- ggplot(data, aes(x = x, y = y, fill = z)) +
  geom_point(shape = 21, size = 4, color = "transparent") +
  scale_fill_viridis(option = "magma") +  # Use Magma color palette
  theme_minimal()

plot3 <-ggplot(data, aes(x = x, y = y, fill = z)) +
  geom_point(shape = 21, size = 4, color = "transparent") +
  scale_fill_viridis(option = "turbo") +  # Use turbo color palette
  theme_minimal()
 
grid.arrange(plot1, plot2, plot3, ncol = 3)
```

### Discrete vs Continuous 

Beyond the basic options, Viridis provides additional options for different variations of the color palette, including the "_c" suffix for continuous scales and "_d" for discrete scales. For example:
scale_fill_viridis_c(): To apply a continuous Viridis color scale.
scale_fill_viridis_d(): To apply a discrete Viridis color scale.

#### Discrete Data Visualization

```{r}
# Generate random data with discrete categories
set.seed(123)
categories <- sample(letters[1:5], 50, replace = TRUE)
values <- rnorm(50)

data <- data.frame(Category = categories, Value = values)

# Create a bar plot with a discrete Viridis color palette
ggplot(data, aes(x = Category, y = Value, fill = Category)) +
  geom_bar(stat = "identity") +
  scale_fill_viridis_d(option = "v") +  # Using the discrete Viridis palette
  labs(title = "Bar Plot with Discrete Viridis Color Palette", x = "Category", y = "Value") +
  theme_minimal()
```

#### Continous Data Visualization


```{r viz1}

x <- y <- seq(-7*pi, 3.5*pi, len = 40)
r <- sqrt(outer(x^2, y^2, "+"))
filled.contour(cos(r^2)*exp(-r/(2*pi)), 
               axes=FALSE,
               color.palette=viridis,
               asp=1, title = "Bar Plot with Discrete Viridis Color Palette")


```

```{r session info}
sessionInfo()
```
